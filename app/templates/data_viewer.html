{% extends 'base.html' %}

{% block title %}Data Viewer{% endblock %}

{% block scripts %}
<script type = "text/javascript" src = "{{ url_for('static', filename = 'js/dataViewer.js') }}" ></script>
{% endblock %}

{% block content %}
<div>
    <h2>Data Viewer</h2>
    <div class="link-button-container" style="margin-bottom:1rem;">
        <a href="{{ link_url or '#' }}" target="_blank" rel="noopener noreferrer" class="btn link-div" role="button" style="padding:10px 16px; background:#095bb4; color:#fff; text-align:center; text-decoration:none; border-radius:4px;">
            <i class="fa fa-external-link" aria-hidden="true" style="margin-right:8px;"></i> Open Data Documentation
        </a>
    </div>
    {% if not session.user_info %}

        <p>Please log in first.</p>
        <a href="{{ url_for('auth.auth_login', next=request.url, provider='google') }}"><button type="button" class="btn login-btn" id="login-btn">Log in</button></a>

    {% else %}
    <div id="viewer-project-container"></div>
    <div id="viewer-selection-container">
        <!-- dynamic table selection rows -->
    </div>
    <button type="button" class="btn add-btn"><i class="fa fa-plus"></i> Add table</button>
    <button type="submit" class="btn submit-btn">View Data</button>
    <div class="viewer-main">
        <iframe id="dash-frame" style="width:100%; height:800px; border:none;" src=""></iframe>
    </div>
    
    {% endif %}
</div>
{% endblock %}